#!/usr/bin/env ruby

#
# doing it the hard way:
#  * running pilight-debug
#  * using the output to start and stop the devices by copying the strings
#

devices = {
  one:  {
	start: "460 1060 960 560 540 980 960 560 960 560 440 1080 440 1080 440 1100 440 1080 960 560 960 560 960 560 460 1080 940 560 960 560 960 580 960 580 460 1080 960 560 960 560 460 1080 440 1080 440 1080 440 1080 2960 7100",
	stop:  "480 1060 960 560 480 1060 960 560 460 1060 960 560 460 1060 960 560 980 580 960 560 960 560 980 560 960 560 480 1060 460 1060 460 1080 460 1060 460 1060 960 560 460 1060 460 1060 460 1060 480 1060 460 1060 2980 7100"
     },
  two: {
	start: "416 1040 1040 624 416 1040 1040 624 1040 624 416 1040 416 1040 1040 624 416 1040 1040 624 416 1040 416 1040 416 1040 416 1040 1040 624 1040 624 416 1040 416 1040 1040 624 1040 624 416 1040 1040 624 416 1040 416 1040 2912 7072",
        stop: "460 1060 960 560 460 1060 960 560 460 1060 460 1060 960 560 460 1080 940 580 960 580 460 1060 460 1060 460 1060 460 1060 960 560 460 1080 960 560 460 1060 460 1060 960 560 460 1080 940 560 460 1060 460 1300 2960 7100"
     }
}

device = ARGV.shift
cmd = ARGV.shift

puts `sudo pilight-send -p raw -c "#{devices[device.to_sym][cmd.to_sym]}"`
